{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\f16113\\\\Desktop\\\\Facu\\\\Front 3\\\\Final\\\\fe3-final-main\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useContext, createContext, useEffect, use } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  theme: \"light\",\n  dentists: [],\n  dentistDetail: {},\n  favs: JSON.parse(localStorage.getItem('favs')) || []\n};\nconst ContextGlobal = /*#__PURE__*/createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"ALL_DENTIST\":\n      return { ...state,\n        dentists: action.payload\n      };\n\n    case \"ONE_DENTIST\":\n      return { ...state,\n        dentistDetail: action.payload\n      };\n\n    case \"HANDLE_THEME\":\n      return { ...state,\n        theme: state.theme === \"light\" ? \"dark\" : \"light\"\n      };\n\n    case \"ADD_FAV\":\n      return { ...state,\n        favs: [...state.favs, action.payload]\n      };\n\n    case \"QUIT_FAV\":\n      return { ...state,\n        favs: state.favs.filter(fav => fav.id != action.payload.id)\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport const ContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const urlApi = `https://jsonplaceholder.typicode.com/users/`;\n  useEfect(() => {\n    axios(urlApi).then(res => {\n      dispatch({\n        type: 'ALL_DENTIST',\n        payload: res.data\n      });\n    });\n  }, [urlApi]);\n  useEfect(() => {\n    console.log(state.favs);\n\n    if (state.favs.length < 1) {\n      localStorage.removeItem('favs');\n    } else {\n      localStorage.setItem('favs', JSON.stringify(state.favs));\n    }\n  }, [state.favs]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"GZvKc85oTqTojhzrKZC9Bj33MJ0=\", true);\n\n_c = ContextProvider;\nexport default ContextProvider;\nexport const useContextGlobal = () => {\n  _s2();\n\n  return useContext(ContextGlobal);\n};\n\n_s2(useContextGlobal, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["useContext","createContext","useEffect","use","axios","initialState","theme","dentists","dentistDetail","favs","JSON","parse","localStorage","getItem","ContextGlobal","reducer","state","action","type","payload","filter","fav","id","Error","ContextProvider","children","dispatch","useReducer","urlApi","useEfect","then","res","data","console","log","length","removeItem","setItem","stringify","useContextGlobal"],"sources":["C:/Users/f16113/Desktop/Facu/Front 3/Final/fe3-final-main/src/Components/utils/global.context.jsx"],"sourcesContent":["import {useContext,createContext,useEffect,use} from \"react\";\nimport axios from \"axios\";\n\n\n\nconst initialState = {theme: \"light\",dentists:[],dentistDetail:{}, favs: JSON.parse(localStorage.getItem('favs')) || []}\n\nconst ContextGlobal = createContext();\n\nconst reducer = (state, action) =>{\n  switch (action.type) {\n    case \"ALL_DENTIST\":\n      return {...state, dentists: action.payload}\n    case \"ONE_DENTIST\":\n      return {...state, dentistDetail: action.payload}\n    case \"HANDLE_THEME\":\n      return { ...state, theme: state.theme === \"light\" ? \"dark\" : \"light\" }\n    case \"ADD_FAV\":\n      return {...state, favs: [...state.favs, action.payload]}\n    case \"QUIT_FAV\":\n            return {...state, favs: state.favs.filter(fav => fav.id != action.payload.id)\n            }\n    default:\n      throw new Error();\n  }\n}\n\nexport const ContextProvider = ({ children }) => {\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\n  const [state, dispatch] = useReducer (reducer, initialState)\n  const urlApi= `https://jsonplaceholder.typicode.com/users/`\n\n  useEfect(()=>{\n    axios(urlApi).then(res => {\n      dispatch({type: 'ALL_DENTIST', payload: res.data})})\n  }, [urlApi])\n\n  useEfect(()=>{\n    console.log(state.favs)\n    if(state.favs.length < 1) {\n      localStorage.removeItem('favs')\n    } else {\n    localStorage.setItem('favs', JSON.stringify(state.favs))\n    }\n  },[state.favs])\n\n\n  return (\n    <ContextGlobal.Provider value={{state,dispatch}}>\n      {children}\n    </ContextGlobal.Provider>\n  );\n};\nexport default ContextProvider\nexport const useContextGlobal = ()=> useContext(ContextGlobal)  "],"mappings":";;;;AAAA,SAAQA,UAAR,EAAmBC,aAAnB,EAAiCC,SAAjC,EAA2CC,GAA3C,QAAqD,OAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAIA,MAAMC,YAAY,GAAG;EAACC,KAAK,EAAE,OAAR;EAAgBC,QAAQ,EAAC,EAAzB;EAA4BC,aAAa,EAAC,EAA1C;EAA8CC,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C;AAAhG,CAArB;AAEA,MAAMC,aAAa,gBAAGb,aAAa,EAAnC;;AAEA,MAAMc,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;EAChC,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,aAAL;MACE,OAAO,EAAC,GAAGF,KAAJ;QAAWT,QAAQ,EAAEU,MAAM,CAACE;MAA5B,CAAP;;IACF,KAAK,aAAL;MACE,OAAO,EAAC,GAAGH,KAAJ;QAAWR,aAAa,EAAES,MAAM,CAACE;MAAjC,CAAP;;IACF,KAAK,cAAL;MACE,OAAO,EAAE,GAAGH,KAAL;QAAYV,KAAK,EAAEU,KAAK,CAACV,KAAN,KAAgB,OAAhB,GAA0B,MAA1B,GAAmC;MAAtD,CAAP;;IACF,KAAK,SAAL;MACE,OAAO,EAAC,GAAGU,KAAJ;QAAWP,IAAI,EAAE,CAAC,GAAGO,KAAK,CAACP,IAAV,EAAgBQ,MAAM,CAACE,OAAvB;MAAjB,CAAP;;IACF,KAAK,UAAL;MACQ,OAAO,EAAC,GAAGH,KAAJ;QAAWP,IAAI,EAAEO,KAAK,CAACP,IAAN,CAAWW,MAAX,CAAkBC,GAAG,IAAIA,GAAG,CAACC,EAAJ,IAAUL,MAAM,CAACE,OAAP,CAAeG,EAAlD;MAAjB,CAAP;;IAER;MACE,MAAM,IAAIC,KAAJ,EAAN;EAbJ;AAeD,CAhBD;;AAkBA,OAAO,MAAMC,eAAe,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC/C;EACA,MAAM,CAACT,KAAD,EAAQU,QAAR,IAAoBC,UAAU,CAAEZ,OAAF,EAAWV,YAAX,CAApC;EACA,MAAMuB,MAAM,GAAG,6CAAf;EAEAC,QAAQ,CAAC,MAAI;IACXzB,KAAK,CAACwB,MAAD,CAAL,CAAcE,IAAd,CAAmBC,GAAG,IAAI;MACxBL,QAAQ,CAAC;QAACR,IAAI,EAAE,aAAP;QAAsBC,OAAO,EAAEY,GAAG,CAACC;MAAnC,CAAD,CAAR;IAAmD,CADrD;EAED,CAHO,EAGL,CAACJ,MAAD,CAHK,CAAR;EAKAC,QAAQ,CAAC,MAAI;IACXI,OAAO,CAACC,GAAR,CAAYlB,KAAK,CAACP,IAAlB;;IACA,IAAGO,KAAK,CAACP,IAAN,CAAW0B,MAAX,GAAoB,CAAvB,EAA0B;MACxBvB,YAAY,CAACwB,UAAb,CAAwB,MAAxB;IACD,CAFD,MAEO;MACPxB,YAAY,CAACyB,OAAb,CAAqB,MAArB,EAA6B3B,IAAI,CAAC4B,SAAL,CAAetB,KAAK,CAACP,IAArB,CAA7B;IACC;EACF,CAPO,EAON,CAACO,KAAK,CAACP,IAAP,CAPM,CAAR;EAUA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAE;MAACO,KAAD;MAAOU;IAAP,CAA/B;IAAA,UACGD;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CAzBM;;GAAMD,e;;KAAAA,e;AA0Bb,eAAeA,eAAf;AACA,OAAO,MAAMe,gBAAgB,GAAG;EAAA;;EAAA,OAAKvC,UAAU,CAACc,aAAD,CAAf;AAAA,CAAzB;;IAAMyB,gB"},"metadata":{},"sourceType":"module"}