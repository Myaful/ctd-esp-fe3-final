{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\f16113\\\\Desktop\\\\Facu\\\\Front 3\\\\Final\\\\fe3-final-main\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DentistsStates = /*#__PURE__*/createContext();\nexport const initialState = {\n  theme: localStorage.getItem('theme') || \"light\",\n  dentists: [],\n  singleDentist: {},\n  favorites: JSON.parse(localStorage.getItem('favorites')) || []\n};\n\nconst dentistsReducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_DENTISTS':\n      return { ...state,\n        dentists: action.payload\n      };\n\n    case 'GET_SINGLE_DENTIST':\n      return { ...state,\n        singleDentist: action.payload\n      };\n\n    case 'ADD_FAVORITE':\n      return { ...state,\n        favorites: [...state.favorites, action.payload]\n      };\n\n    case 'REMOVE_FAVORITE':\n      return { ...state,\n        favorites: state.favorites.filter(fav => fav.id != action.payload.id)\n      };\n\n    case 'CLEAN_FAVORITES':\n      return { ...state,\n        favorites: []\n      };\n\n    case 'CHANGE_THEME':\n      return { ...state,\n        theme: action.payload\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport const ContextGlobal = /*#__PURE__*/createContext(undefined);\n\nconst DentistContext = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  // Aqui deberan implementar la logica propia del Context, utilizando el hook\n  // useMemo\n  const [dentistState, dentistDispatch] = useReducer(dentistsReducer, initialDentistState);\n  const dentistURL = 'https://jsonplaceholder.typicode.com/users';\n  useEffect(() => {\n    axios(dentistURL).then(res => {\n      console.log(res);\n      dentistDispatch({\n        type: 'GET_DENTISTS',\n        payload: res.data\n      });\n    });\n  }, [dentistURL]);\n  useEffect(() => {\n    if (dentistState.favorites.length < 1) {\n      localStorage.removeItem('favorites');\n    } else {\n      localStorage.setItem('favorites', JSON.stringify(dentistState.favorites));\n    }\n  }, [dentistState.favorites]);\n  useEffect(() => {\n    localStorage.setItem('theme', dentistState.theme);\n  }, [dentistState.theme]);\n  return /*#__PURE__*/_jsxDEV(DentistsStates.Provider, {\n    value: {\n      dentistState,\n      dentistDispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 7\n  }, this);\n};\n\n_s(DentistContext, \"Vwjq95W2GVRegsbGSlFCjALKvhQ=\");\n\n_c = DentistContext;\nexport default DentistContext;\nexport const useDentistsContext = () => {\n  _s2();\n\n  return useContext(DentistsStates);\n};\n\n_s2(useDentistsContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"DentistContext\");","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","axios","DentistsStates","initialState","theme","localStorage","getItem","dentists","singleDentist","favorites","JSON","parse","dentistsReducer","state","action","type","payload","filter","fav","id","Error","ContextGlobal","undefined","DentistContext","children","dentistState","dentistDispatch","initialDentistState","dentistURL","then","res","console","log","data","length","removeItem","setItem","stringify","useDentistsContext"],"sources":["C:/Users/f16113/Desktop/Facu/Front 3/Final/fe3-final-main/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\n\nconst DentistsStates = createContext();\n\n\nexport const initialState = {\n  theme: localStorage.getItem('theme') || \"light\",\n  dentists: [],\n  singleDentist: {},\n  favorites: JSON.parse(localStorage.getItem('favorites')) || []\n}\n\nconst dentistsReducer = (state, action) => {\n\n  switch (action.type) {\n      case 'GET_DENTISTS':\n          return {\n              ...state,\n              dentists: action.payload\n          }\n      case 'GET_SINGLE_DENTIST':\n          return {\n              ...state,\n              singleDentist: action.payload\n          }\n      case 'ADD_FAVORITE':\n          return {\n              ...state,\n              favorites: [...state.favorites, action.payload]\n          }\n      case 'REMOVE_FAVORITE':\n          return {\n              ...state,\n              favorites: state.favorites.filter(fav => fav.id != action.payload.id)\n          }\n      case 'CLEAN_FAVORITES':\n          return {\n              ...state,\n              favorites: []\n          }\n        case 'CHANGE_THEME':\n          return {\n            ...state,\n            theme: action.payload\n          }\n      default:\n          throw new Error();\n  }\n}\n\nexport const ContextGlobal = createContext(undefined);\n\nconst DentistContext = ({children}) => {\n  // Aqui deberan implementar la logica propia del Context, utilizando el hook\n  // useMemo\n  const [dentistState, dentistDispatch] = useReducer(dentistsReducer, initialDentistState)\n  const dentistURL = 'https://jsonplaceholder.typicode.com/users'\n\n  useEffect(() => {\n    axios(dentistURL).then(res => {\n      console.log(res);\n      dentistDispatch({type: 'GET_DENTISTS', payload: res.data})})\n  }, [dentistURL])\n\n  useEffect(() => {\n    if(dentistState.favorites.length < 1) {\n      localStorage.removeItem('favorites')\n    } else {\n      localStorage.setItem('favorites', JSON.stringify(dentistState.favorites))\n    }},[dentistState.favorites])\n\nuseEffect(() => {\n  localStorage.setItem('theme', dentistState.theme)\n},[dentistState.theme])\n\n  return (\n      <DentistsStates.Provider value={{dentistState, dentistDispatch}}>\n          {children}\n      </DentistsStates.Provider>\n  );\n};\n\nexport default DentistContext;\n\nexport const useDentistsContext = () => useContext(DentistsStates);"],"mappings":"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"},"metadata":{},"sourceType":"module"}